<!--pages/coaches/list.wxml-->
<view class="coach-list-container">
  <!-- åŠ è½½ä¸­ -->
  <view class="loading-state" wx:if="{{loading}}">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- æ•™ç»ƒåˆ—è¡¨ -->
  <view class="coach-list" wx:if="{{!loading && coachList.length > 0}}">
    <view class="coach-card" wx:for="{{coachList}}" wx:key="_id" bindtap="viewCoachDetail" data-id="{{item._id}}">
      <!-- æ•™ç»ƒå¤´åƒ -->
      <image lazy-load class="coach-avatar"
             src="{{item.cloudAvatarUrl || item.avatarUrl || '/images/avatar.png'}}"
             mode="aspectFill"
             binderror="onImageError"
             data-index="{{index}}"
             data-cloudurl="{{item.cloudAvatarUrl}}">
      </image>

      <!-- æ•™ç»ƒä¿¡æ¯ -->
      <view class="coach-info">
        <view class="coach-header">
          <text class="coach-name">{{item.name || 'æ•™ç»ƒ'}}</text>
          <view class="coach-rating">
            <text class="star">â­</text>
            <text class="rating">{{item.rating || '5.0'}}</text>
            <text class="count">({{item.reviewCount || 0}}æ¡è¯„ä»·)</text>
          </view>
        </view>

        <!-- ä¸“é•¿æ ‡ç­¾ -->
        <view class="coach-tags" wx:if="{{item.specialty && item.specialty.length > 0}}">
          <view class="tag" wx:for="{{item.specialty}}" wx:key="index" wx:for-item="specialty">
            {{specialty}}
          </view>
        </view>

        <!-- ç®€ä»‹ -->
        <text class="coach-intro">{{item.introduction || 'æš‚æ— ç®€ä»‹'}}</text>

        <!-- ç»éªŒ -->
        <view class="coach-footer">
          <text class="experience">{{item.experience || 'ç»éªŒä¸°å¯Œ'}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{!loading && coachList.length === 0}}">
    <text class="empty-icon">ğŸ‘¨â€ğŸ«</text>
    <text class="empty-text">æš‚æ— å¯é¢„çº¦æ•™ç»ƒ</text>
    <text class="empty-hint">ç¨åå†æ¥çœ‹çœ‹å§</text>
  </view>
</view>