<!--pages/video/list.wxml-->
<view class="container">
  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <view class="search-box" bindtap="goToSearch">
      <text class="search-placeholder">æœç´¢è§†é¢‘...</text>
      <text class="search-icon">ğŸ”</text>
    </view>
  </view>

  <!-- åˆ†ç±»æ ‡ç­¾ -->
  <scroll-view class="category-tabs" scroll-x>
    <view class="tab-item {{activeCategory === '' ? 'active' : ''}}" bindtap="selectCategory" data-category="">
      å…¨éƒ¨
    </view>
    <view class="tab-item {{activeCategory === 'æŠ€æœ¯' ? 'active' : ''}}" bindtap="selectCategory" data-category="æŠ€æœ¯">
      æŠ€æœ¯
    </view>
    <view class="tab-item {{activeCategory === 'æˆ˜æœ¯' ? 'active' : ''}}" bindtap="selectCategory" data-category="æˆ˜æœ¯">
      æˆ˜æœ¯
    </view>
    <view class="tab-item {{activeCategory === 'ä½“èƒ½' ? 'active' : ''}}" bindtap="selectCategory" data-category="ä½“èƒ½">
      ä½“èƒ½
    </view>
    <view class="tab-item {{activeCategory === 'æ¯”èµ›' ? 'active' : ''}}" bindtap="selectCategory" data-category="æ¯”èµ›">
      æ¯”èµ›
    </view>
    <view class="tab-item {{activeCategory === 'èŠ±çµ®' ? 'active' : ''}}" bindtap="selectCategory" data-category="èŠ±çµ®">
      èŠ±çµ®
    </view>
  </scroll-view>

  <!-- è§†é¢‘åˆ—è¡¨ -->
  <view class="video-list">
    <view class="video-item" wx:for="{{videoList}}" wx:key="_id" bindtap="watchVideo" data-id="{{item._id}}">
      <view class="video-thumb-wrapper">
        <image lazy-load class="video-thumb" src="{{item.thumbnail || '/images/default-video.png'}}" mode="aspectFill"></image>
        <view class="video-duration">{{item.durationText || '00:00'}}</view>
      </view>
      <view class="video-info">
        <text class="video-title">{{item.title}}</text>
        <view class="video-meta">
          <text class="video-category">{{item.category}}</text>
          <text class="video-difficulty difficulty-{{item.difficulty}}">{{item.difficultyText}}</text>
        </view>
        <view class="video-stats">
          <text class="stat-item">ğŸ‘ {{item.viewCount}}</text>
          <text class="stat-item">ğŸ‘ {{item.likeCount}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠ è½½æ›´å¤š -->
  <view class="load-more" wx:if="{{hasMore}}" bindtap="loadMore">
    <text>{{loading ? 'åŠ è½½ä¸­...' : 'åŠ è½½æ›´å¤š'}}</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{!loading && videoList.length === 0}}">
    <text class="empty-icon">ğŸ¬</text>
    <text class="empty-text">æš‚æ— è§†é¢‘å†…å®¹</text>
  </view>
</view>
