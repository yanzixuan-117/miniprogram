<!--pages/admin/coach-manage/coach-edit.wxml-->
<view class="coach-edit-container" wx:if="{{!loading}}">
  <!-- 头像 -->
  <view class="form-section">
    <view class="section-title">头像</view>
    <button class="avatar-btn" open-type="chooseAvatar" bindchooseavatar="onChooseAvatar">
      <image class="avatar-img" src="{{formData.avatarUrl || '/images/avatar.png'}}" mode="aspectFill"></image>
      <view class="avatar-tip">点击更换头像</view>
    </button>
  </view>

  <!-- 基本信息 -->
  <view class="form-section">
    <view class="section-title">基本信息</view>

    <view class="form-item">
      <text class="label">姓名 *</text>
      <input class="input" placeholder="请输入姓名" value="{{formData.name}}" bindinput="onNameInput" />
    </view>

    <view class="form-item">
      <text class="label">联系电话</text>
      <input class="input" type="number" placeholder="请输入联系电话" value="{{formData.phone}}" bindinput="onPhoneInput" />
    </view>

    <view class="form-item">
      <text class="label">课时价格（元/小时）</text>
      <input class="input" type="digit" placeholder="请输入价格" value="{{formData.price}}" bindinput="onPriceInput" />
    </view>

    <view class="form-item switch-item">
      <text class="label">状态</text>
      <switch checked="{{formData.status === 1}}" bindchange="onStatusChange" />
      <text class="status-text">{{formData.status === 1 ? '启用' : '禁用'}}</text>
    </view>
  </view>

  <!-- 专长标签 -->
  <view class="form-section">
    <view class="section-title">专长标签 *</view>

    <!-- 已选标签 -->
    <view class="tags-container" wx:if="{{formData.specialty.length > 0}}">
      <view class="tag-item" wx:for="{{formData.specialty}}" wx:key="*this">
        <text class="tag-text">{{item}}</text>
        <text class="tag-close" catchtap="removeTag" data-index="{{index}}">×</text>
      </view>
    </view>

    <!-- 添加标签 -->
    <view class="add-tag-row">
      <input class="tag-input" placeholder="输入专长标签" value="{{tagInput}}" bindinput="onTagInput" />
      <button class="add-tag-btn" catchtap="addTag" disabled="{{!tagInput}}">添加</button>
    </view>

    <!-- 建议标签 -->
    <view class="suggestions">
      <text class="suggestion-tag" wx:for="{{suggestions}}" wx:key="*this" bindtap="useSuggestion" data-tag="{{item}}">{{item}}</text>
    </view>
  </view>

  <!-- 详细信息 -->
  <view class="form-section">
    <view class="section-title">详细信息</view>

    <view class="form-item">
      <text class="label">个人简介</text>
      <textarea class="textarea" placeholder="请输入个人简介" maxlength="200" value="{{formData.introduction}}" bindinput="onIntroInput"></textarea>
    </view>

    <view class="form-item">
      <text class="label">教学经验</text>
      <textarea class="textarea" placeholder="请输入教学经验" maxlength="200" value="{{formData.experience}}" bindinput="onExperienceInput"></textarea>
    </view>
  </view>

  <!-- 保存按钮 -->
  <view class="footer">
    <button class="save-btn" bindtap="save" disabled="{{saving}}">保存</button>
  </view>
</view>

<!-- 加载中 -->
<view class="loading-container" wx:if="{{loading}}">
  <text class="loading-text">加载中...</text>
</view>
