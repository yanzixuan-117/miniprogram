<!--pages/admin-coach-edit/coach-edit.wxml-->
<view class="edit-container" wx:if="{{!loading}}">
  <!-- 基本信息 -->
  <view class="form-section">
    <view class="section-title">基本信息</view>

    <view class="form-item">
      <text class="label">姓名</text>
      <input class="input" placeholder="请输入姓名" value="{{form.name}}" bindinput="onInputChange" data-field="name" />
    </view>

    <view class="form-item">
      <text class="label">昵称</text>
      <input class="input" placeholder="请输入昵称" value="{{form.nickname}}" bindinput="onInputChange" data-field="nickname" />
    </view>

    <view class="form-item">
      <text class="label">联系电话</text>
      <input class="input" placeholder="请输入联系电话" value="{{form.phone}}" bindinput="onInputChange" data-field="phone" type="number" />
    </view>
  </view>

  <!-- 教学信息 -->
  <view class="form-section">
    <view class="section-title">教学信息</view>

    <view class="form-item">
      <text class="label">专长（最多3项）</text>
      <view class="specialty-tags">
        <view
          class="tag {{form.specialty.indexOf(item) > -1 ? 'active' : ''}}"
          wx:for="{{specialtyOptions}}"
          wx:key="*this"
          catchtap="onSpecialtyChange"
          data-specialty="{{item}}">
          {{item}}
        </view>
      </view>
    </view>

    <view class="form-item">
      <text class="label">个人简介</text>
      <textarea
        class="textarea"
        placeholder="请输入个人简介"
        value="{{form.introduction}}"
        bindinput="onInputChange"
        data-field="introduction"
        maxlength="500"
        show-confirm-bar="{{false}}">
      </textarea>
    </view>

    <view class="form-item">
      <text class="label">教学经验</text>
      <textarea
        class="textarea"
        placeholder="请输入教学经验"
        value="{{form.experience}}"
        bindinput="onInputChange"
        data-field="experience"
        maxlength="500"
        show-confirm-bar="{{false}}">
      </textarea>
    </view>
  </view>

  <!-- 状态设置 -->
  <view class="form-section">
    <view class="section-title">状态设置</view>

    <view class="form-item">
      <text class="label">账号状态</text>
      <switch checked="{{form.status === 1}}" bindchange="onInputChange" data-field="status" color="#667eea" />
      <text class="status-text">{{form.status === 1 ? '启用' : '禁用'}}</text>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="button-group">
    <button class="btn-danger" bindtap="deleteCoach">删除教练</button>
    <button class="btn-primary" bindtap="save" loading="{{saving}}">保存</button>
  </view>
</view>

<!-- 加载中 -->
<view class="loading-container" wx:if="{{loading}}">
  <text class="loading-text">加载中...</text>
</view>
